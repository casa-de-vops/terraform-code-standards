# .github/workflows/plan.yml
name: Terraform Plan

on:
  workflow_call:
    inputs:
      working_directory:
        required: true
        type: string
      plan_file_name:
        required: true
        type: string
      var_file:
        required: false
        type: string

jobs:
  plan:
    name: Terraform Plan
    runs-on: ubuntu-latest
    steps:
      - name: Terraform Plan
        run: terraform plan -out=${{ inputs.plan_file_name }} -var-file=${{ inputs.var_file }} -chdir=${{ inputs.working_directory }}
